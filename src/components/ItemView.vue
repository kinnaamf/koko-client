<template>
  <Header />
  <div class="bg-dark-marsh">
    <div class="py-40 max-sm:py-20">
      <div class="flex flex-col px-80 max-sm:px-0 text-white">
        <div class="flex max-sm:flex-col gap-10">
          <div>
            <img :src="'http://localhost:81/images/' + item.image" alt=item.name />
          </div>
          <div class="flex mt-20">
            <div class="flex flex-col gap-10 max-sm:gap-3">
              <div class="flex justify-between max-sm:px-2">
                <h2 class="text-5xl uppercase font-bold">{{ item.name }}</h2>
                <div class="flex items-center gap-3">
                  <span class="ml-10">{{ item.rating }}</span>
                  <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_41_1022)">
                      <path d="M14.7713 18.75C14.5328 18.7502 14.2979 18.6899 14.087 18.5745L10.1703 16.4454C10.14 16.4286 10.1061 16.4198 10.0717 16.4198C10.0372 16.4198 10.0034 16.4286 9.973 16.4454L6.05691 18.5745C5.81423 18.7066 5.54066 18.7658 5.26714 18.7454C4.99362 18.725 4.73108 18.6259 4.50922 18.4592C4.28736 18.2925 4.11504 18.0649 4.01176 17.8021C3.90848 17.5394 3.87835 17.252 3.9248 16.9724L4.67258 12.4626C4.67832 12.4273 4.6756 12.391 4.66464 12.357C4.65369 12.323 4.63484 12.2923 4.60974 12.2676L1.44394 9.07193C1.24738 8.87387 1.10839 8.62282 1.0427 8.34725C0.977021 8.07167 0.987276 7.78257 1.07231 7.51271C1.15734 7.24285 1.31375 7.00302 1.52381 6.82038C1.73387 6.63775 1.98919 6.51962 2.26084 6.47937L6.63628 5.82229C6.67033 5.81717 6.70265 5.80354 6.73046 5.78259C6.75827 5.76164 6.78073 5.734 6.79589 5.70206L8.75205 1.59777C8.87321 1.34333 9.06083 1.12907 9.29367 0.979241C9.5265 0.829411 9.79524 0.75 10.0695 0.75C10.3437 0.75 10.6124 0.829411 10.8453 0.979241C11.0781 1.12907 11.2657 1.34333 11.3869 1.59777L13.3443 5.70076C13.3596 5.7326 13.3821 5.76016 13.4099 5.78109C13.4376 5.80202 13.4699 5.81571 13.5039 5.821L17.8831 6.47872C18.1546 6.5192 18.4098 6.63746 18.6197 6.82012C18.8296 7.00278 18.9859 7.24255 19.0709 7.51232C19.1559 7.78208 19.1662 8.07106 19.1007 8.34657C19.0351 8.62207 18.8963 8.87311 18.7 9.07128L15.5311 12.265C15.5061 12.2898 15.4873 12.3205 15.4763 12.3545C15.4654 12.3884 15.4626 12.4247 15.4682 12.46L16.216 16.9698C16.252 17.1878 16.2416 17.4111 16.1856 17.6245C16.1296 17.8378 16.0294 18.036 15.8918 18.2052C15.7542 18.3744 15.5827 18.5105 15.3891 18.6042C15.1955 18.6978 14.9845 18.7467 14.7707 18.7474L14.7713 18.75ZM10.0717 15.1195C10.31 15.1194 10.5447 15.1797 10.7553 15.295L14.6714 17.4235C14.7061 17.444 14.7458 17.4534 14.7857 17.4505C14.8255 17.4476 14.8636 17.4325 14.8951 17.4072C14.9281 17.3839 14.9536 17.3511 14.9687 17.3128C14.9838 17.2746 14.9877 17.2326 14.98 17.1921L14.2316 12.6816C14.1916 12.4389 14.2091 12.1897 14.2827 11.9555C14.3562 11.7213 14.4836 11.5091 14.6538 11.3369L17.8228 8.14254C17.8511 8.11388 17.8711 8.07762 17.8805 8.03784C17.8899 7.99806 17.8884 7.95635 17.8761 7.91742C17.8638 7.87849 17.8412 7.84388 17.8109 7.81751C17.7807 7.79114 17.7438 7.77405 17.7046 7.76818L13.3261 7.1098C13.0903 7.0745 12.8664 6.98036 12.6738 6.83554C12.4811 6.69071 12.3254 6.49954 12.2201 6.27854L10.2602 2.1749C10.2426 2.13818 10.2155 2.10726 10.1818 2.08565C10.1482 2.06403 10.1094 2.05258 10.0698 2.05258C10.0302 2.05258 9.99135 2.06403 9.9577 2.08565C9.92406 2.10726 9.89692 2.13818 9.87937 2.1749L7.92321 6.27724C7.81789 6.49832 7.66209 6.68954 7.46929 6.83438C7.27648 6.97921 7.05247 7.0733 6.81663 7.1085L2.43867 7.76818C2.3994 7.77392 2.36248 7.79096 2.33212 7.81734C2.30175 7.84372 2.27916 7.8784 2.26691 7.91741C2.25467 7.95643 2.25326 7.99821 2.26285 8.03801C2.27244 8.07781 2.29265 8.11403 2.32116 8.14254L5.48948 11.3369C5.65974 11.5091 5.7871 11.7213 5.86065 11.9555C5.9342 12.1897 5.95173 12.4389 5.91175 12.6816L5.16335 17.1921C5.15656 17.2326 5.1609 17.2743 5.17589 17.3124C5.19087 17.3505 5.2159 17.3835 5.24811 17.4076C5.28033 17.4317 5.31844 17.446 5.35811 17.4488C5.39778 17.4516 5.43742 17.4428 5.47251 17.4235L9.38798 15.2943C9.59877 15.1795 9.83342 15.1195 10.0717 15.1195Z" fill="white"/>
                    </g>  
                    <defs>
                      <clipPath id="clip0_41_1022">
                        <rect width="19" height="19" fill="white" transform="translate(0 0.5)"/>
                      </clipPath>
                    </defs>
                  </svg>

                </div>
              </div>
              <div class="text-5xl font-extrabold">
                <h2 class="max-sm:px-2">{{ item.price }}</h2>
              </div>
              <div class="flex gap-10 text-zinc-400">
                <h3 class="max-sm:px-2">{{ item.shortDescription }}</h3>
                <a href="" class="underline">More details</a>
              </div>
              <div>
                <h3 class="max-sm:px-2">{{ item.color }}</h3>
              </div>
              <div>
                <button
                    type="button"
                    @click="addToCart"
                    class="max-sm:w-screen bg-white text-black py-3 px-40 uppercase font-bold"
                >
                  Add to bag
                </button>
              </div>
            </div>
          </div>
        </div>
        <div id="description" class="mt-40 mb-10">
          <h2 class="text-xl text-center max-sm:px-2">{{ item.description }}</h2>
        </div>
      </div>
    </div>
  </div>
  <Footer />
</template>

<script>
import Header from "@/components/Header.vue";
import Footer from "@/components/Footer.vue";

export default {
  components: {
    Header,
    Footer
  },
  data() {
    return {
      item: {},
      cartData: []
    };
  },
  mounted() {
    const selectedItem = localStorage.getItem("selected item");

    if(selectedItem) {
      this.item = JSON.parse(selectedItem);
    } else {
      console.log('Selected item doesn\'t exist');
    }
  },
  methods: {
    addToCart() {
      // const cart = JSON.parse(localStorage.getItem("cart"));
      // cart.push(this.item);

      this.cartData.push(this.item);

      console.log(this.cartData.length);



      localStorage.setItem("cart", JSON.stringify(this.cartData));
    }
  }
};
</script>
